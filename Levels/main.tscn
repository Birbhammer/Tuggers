[gd_scene load_steps=16 format=3 uid="uid://comvul6246hhp"]

[ext_resource type="Script" uid="uid://cj1g4gflivcat" path="res://Scripts/General/main.gd" id="1_lwy2l"]
[ext_resource type="PackedScene" uid="uid://byxair753vxxv" path="res://Levels/game.tscn" id="2_lwy2l"]
[ext_resource type="PackedScene" uid="uid://cky3olhxyr5a6" path="res://TestAssets/CityNerd/room_0.tscn" id="3_mykqc"]
[ext_resource type="PackedScene" uid="uid://dmvfroiw3ypng" path="res://TestAssets/TTGS Levels/room_0.tscn" id="4_hilkn"]
[ext_resource type="PackedScene" uid="uid://doo83siwwwqic" path="res://TestAssets/TTGS Levels/room_1.tscn" id="5_5mxy1"]
[ext_resource type="Texture2D" uid="uid://byohnmss85mhl" path="res://Visual Assets/Whitebox.png" id="5_7pswh"]
[ext_resource type="PackedScene" uid="uid://bddv7hcv6pfwt" path="res://TestAssets/TTGS Levels/room_3.tscn" id="6_3lhg3"]
[ext_resource type="Script" uid="uid://b7kjoe7tojar1" path="res://InputSettings/input_settings.gd" id="6_ovrsl"]
[ext_resource type="PackedScene" uid="uid://c32ro7mk8nkji" path="res://InputSettings/input_button.tscn" id="7_hbaan"]
[ext_resource type="PackedScene" uid="uid://cf8dhgactf4iu" path="res://TestAssets/TTGS Levels/room_4.tscn" id="7_wgfyn"]
[ext_resource type="AudioStream" uid="uid://dcth82tww3djx" path="res://Audio/Songs/8bit 2.3.mp3" id="8_hbaan"]

[sub_resource type="LabelSettings" id="LabelSettings_he5fp"]
font_size = 50

[sub_resource type="LabelSettings" id="LabelSettings_u05pv"]
font_size = 50

[sub_resource type="LabelSettings" id="LabelSettings_mykqc"]
font_size = 50

[sub_resource type="LabelSettings" id="LabelSettings_hbaan"]
font_size = 25

[node name="Main" type="Node"]
script = ExtResource("1_lwy2l")
CameraSpeed = 1.0

[node name="VBoxContainer" type="VBoxContainer" parent="."]
offset_right = 40.0
offset_bottom = 40.0

[node name="SubViewportContainer" type="SubViewportContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="SubViewport" type="SubViewport" parent="VBoxContainer/SubViewportContainer"]
disable_3d = true
handle_input_locally = false
size = Vector2i(1920, 540)
render_target_update_mode = 4

[node name="Game" parent="VBoxContainer/SubViewportContainer/SubViewport" instance=ExtResource("2_lwy2l")]

[node name="FootR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="0"]
position = Vector2(-200.19922, 2350.973)
scale = Vector2(0.9995559, 0.9995559)

[node name="FootL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="1"]
position = Vector2(400.1797, 2350.876)
rotation = 0.010858618
scale = Vector2(0.99953413, 0.99953413)

[node name="LegL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="2"]
position = Vector2(240, 1192.2759)
rotation = -0.009983885
scale = Vector2(0.9998312, 0.9998312)

[node name="ShinL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="3"]
position = Vector2(505.84375, 1779.5675)
rotation = 0.20697583
scale = Vector2(0.9996925, 0.9996925)

[node name="LegR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="4"]
position = Vector2(-76, 1219.2759)
rotation = 0.0343112
scale = Vector2(0.9998322, 0.9998322)

[node name="ShinR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Body" index="5"]
position = Vector2(28.328125, 1823.1217)
rotation = 0.31808415
scale = Vector2(0.9996983, 0.9996983)

[node name="Chest" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd" index="1"]
position = Vector2(81, 382.2749)

[node name="LegR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest" index="1"]
scale = Vector2(0.9998322, 0.9998322)

[node name="ShinR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest/LegR" index="1"]
scale = Vector2(0.999866, 0.999866)

[node name="FootR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest/LegR/ShinR" index="1"]
scale = Vector2(0.9998576, 0.9998576)

[node name="LegL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest" index="2"]
scale = Vector2(0.9998312, 0.9998312)

[node name="ShinL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest/LegL" index="1"]
scale = Vector2(0.9998613, 0.9998613)

[node name="FootL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd/Skeleton2D/Chest/LegL/ShinL" index="1"]
scale = Vector2(0.9998416, 0.9998416)

[node name="LegL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="0"]
position = Vector2(345, 1422.9575)
rotation = -0.28630257
scale = Vector2(0.9998332, 0.9998332)

[node name="ShinL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="1"]
position = Vector2(760.97266, 1915.4409)
rotation = 0.40283194
scale = Vector2(0.9996877, 0.9996877)

[node name="LegR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="2"]
position = Vector2(-303, 1418.9575)
rotation = -0.31228647
scale = Vector2(0.9998329, 0.9998329)

[node name="ShinR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="3"]
position = Vector2(0.2578125, 1951.4696)
rotation = 0.41640902
scale = Vector2(0.9996884, 0.9996884)

[node name="FootR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="4"]
position = Vector2(-278.98438, 2454.3281)
scale = Vector2(0.9995273, 0.9995273)

[node name="FootL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="5"]
position = Vector2(546.14844, 2455.2642)
scale = Vector2(0.99952596, 0.99952596)

[node name="Chest" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Body" index="6"]
position = Vector2(81, 178.95752)

[node name="LegR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Skeleton2D/Chest" index="1"]
scale = Vector2(0.9998329, 0.9998329)

[node name="ShinR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Skeleton2D/Chest/LegR" index="1"]
scale = Vector2(0.99985546, 0.99985546)

[node name="FootR" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Skeleton2D/Chest/LegR/ShinR" index="1"]
scale = Vector2(0.9998388, 0.9998388)

[node name="ShinL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Skeleton2D/Chest/LegL" index="1"]
scale = Vector2(0.99985445, 0.99985445)

[node name="FootL" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad/Skeleton2D/Chest/LegL/ShinL" index="1"]
scale = Vector2(0.99983823, 0.99983823)

[node name="NerdRoomGenerator" parent="VBoxContainer/SubViewportContainer/SubViewport/Game" index="1"]
LevelTransition = ExtResource("3_mykqc")
RoomList = Array[PackedScene]([ExtResource("4_hilkn"), ExtResource("5_5mxy1"), ExtResource("6_3lhg3"), ExtResource("7_wgfyn")])

[node name="RoomStart2" type="Marker2D" parent="VBoxContainer/SubViewportContainer/SubViewport/Game/ChadLevelGenerator" index="0"]
position = Vector2(-5262, 0)

[node name="NerdCamera" type="Camera2D" parent="VBoxContainer/SubViewportContainer/SubViewport"]
position = Vector2(965, 257)
zoom = Vector2(0.4, 0.4)

[node name="SubViewportContainer2" type="SubViewportContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="SubViewport" type="SubViewport" parent="VBoxContainer/SubViewportContainer2"]
disable_3d = true
handle_input_locally = false
size = Vector2i(1920, 540)
render_target_update_mode = 4

[node name="ChadCamera" type="Camera2D" parent="VBoxContainer/SubViewportContainer2/SubViewport"]
position = Vector2(943, 277)
zoom = Vector2(0.4, 0.4)

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(960, 540)
scale = Vector2(15, 0.25)
texture = ExtResource("5_7pswh")

[node name="ColorRect" type="ColorRect" parent="Sprite2D"]
offset_left = -64.0
offset_top = -64.0
offset_right = 64.0
offset_bottom = 64.0
color = Color(0.48962224, 0.48962224, 0.48962218, 1)

[node name="InputSettings" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_ovrsl")

[node name="PanelContainer" type="PanelContainer" parent="InputSettings"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -728.0
offset_top = -389.0
offset_right = 636.0
offset_bottom = 367.0
grow_horizontal = 2
grow_vertical = 2

[node name="TabContainer" type="TabContainer" parent="InputSettings/PanelContainer"]
layout_mode = 2
current_tab = 0

[node name="Game" type="TabBar" parent="InputSettings/PanelContainer/TabContainer"]
layout_mode = 2
metadata/_tab_index = 0

[node name="ResumeButton" type="Button" parent="InputSettings/PanelContainer/TabContainer/Game"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -158.0
offset_top = -162.5
offset_right = 158.0
offset_bottom = -66.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Game/ResumeButton"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -158.0
offset_top = -48.0
offset_right = 158.0
offset_bottom = 48.0
grow_horizontal = 2
grow_vertical = 2
text = "Resume"
label_settings = SubResource("LabelSettings_he5fp")
horizontal_alignment = 1
vertical_alignment = 1

[node name="QuitButton" type="Button" parent="InputSettings/PanelContainer/TabContainer/Game"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -158.0
offset_top = 58.5
offset_right = 158.0
offset_bottom = 154.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Game/QuitButton"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -158.0
offset_top = -48.0
offset_right = 158.0
offset_bottom = 48.0
grow_horizontal = 2
grow_vertical = 2
text = "Quit"
label_settings = SubResource("LabelSettings_he5fp")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Keybinds" type="MarginContainer" parent="InputSettings/PanelContainer/TabContainer"]
visible = false
layout_mode = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50
metadata/_tab_index = 1

[node name="VBoxContainer" type="VBoxContainer" parent="InputSettings/PanelContainer/TabContainer/Keybinds"]
layout_mode = 2

[node name="ActionList" type="VBoxContainer" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 50

[node name="InputButton" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer/ActionList" instance=ExtResource("7_hbaan")]
layout_mode = 2

[node name="InputButton2" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer/ActionList" instance=ExtResource("7_hbaan")]
layout_mode = 2

[node name="InputButton3" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer/ActionList" instance=ExtResource("7_hbaan")]
layout_mode = 2

[node name="InputButton4" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer/ActionList" instance=ExtResource("7_hbaan")]
layout_mode = 2

[node name="InputButton5" parent="InputSettings/PanelContainer/TabContainer/Keybinds/VBoxContainer/ActionList" instance=ExtResource("7_hbaan")]
layout_mode = 2

[node name="Graphics" type="MarginContainer" parent="InputSettings/PanelContainer/TabContainer"]
visible = false
layout_mode = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50
metadata/_tab_index = 2

[node name="VBoxContainer" type="VBoxContainer" parent="InputSettings/PanelContainer/TabContainer/Graphics"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Resolution "
label_settings = SubResource("LabelSettings_u05pv")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Control" type="Control" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ResolutionList" type="OptionButton" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 4
theme_override_font_sizes/font_size = 50
selected = 0
item_count = 3
popup/item_0/text = "1920 x 1080"
popup/item_0/id = 0
popup/item_1/text = "1280 x 720"
popup/item_1/id = 1
popup/item_2/text = "640 x 480 "
popup/item_2/id = 2

[node name="Control" type="Control" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2

[node name="HBoxContainer2" type="HBoxContainer" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer2"]
layout_mode = 2
text = "Display Mode"
label_settings = SubResource("LabelSettings_u05pv")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Control" type="Control" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3

[node name="DisplayModeList" type="OptionButton" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 4
theme_override_font_sizes/font_size = 50
selected = 0
item_count = 2
popup/item_0/text = "Full Screeen"
popup/item_0/id = 0
popup/item_1/text = "Windowed"
popup/item_1/id = 1

[node name="Control2" type="Control" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2

[node name="ApplyGraphicsButton" type="Button" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/Control2"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 318.0
offset_top = 175.0
offset_right = 585.0
offset_bottom = 265.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Graphics/VBoxContainer/Control2/ApplyGraphicsButton"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -134.5
offset_top = -45.0
offset_right = 134.5
offset_bottom = 45.0
grow_horizontal = 2
grow_vertical = 2
text = "Apply"
label_settings = SubResource("LabelSettings_mykqc")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Sound" type="TabBar" parent="InputSettings/PanelContainer/TabContainer"]
visible = false
layout_mode = 2
metadata/_tab_index = 3

[node name="Label" type="Label" parent="InputSettings/PanelContainer/TabContainer/Sound"]
layout_mode = 0
offset_left = 426.0
offset_top = 120.0
offset_right = 496.0
offset_bottom = 155.0
text = "Music"
label_settings = SubResource("LabelSettings_hbaan")

[node name="HSlider" type="HSlider" parent="InputSettings/PanelContainer/TabContainer/Sound"]
layout_mode = 0
offset_left = 426.0
offset_top = 79.0
offset_right = 965.0
offset_bottom = 305.0
size_flags_vertical = 1
max_value = 1.0
step = 0.001
value = 1.0

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_hbaan")
autoplay = true
parameters/looping = true

[connection signal="pressed" from="InputSettings/PanelContainer/TabContainer/Game/ResumeButton" to="." method="_on_resume_button_pressed"]
[connection signal="pressed" from="InputSettings/PanelContainer/TabContainer/Game/QuitButton" to="." method="_on_quit_button_pressed"]
[connection signal="value_changed" from="InputSettings/PanelContainer/TabContainer/Sound/HSlider" to="." method="_on_h_slider_value_changed"]

[editable path="VBoxContainer/SubViewportContainer/SubViewport/Game"]
[editable path="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd"]
[editable path="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Nerd/Nerd"]
[editable path="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad"]
[editable path="VBoxContainer/SubViewportContainer/SubViewport/Game/Players/Chad/Chad"]
